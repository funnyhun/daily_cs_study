# 해시 테이블(Hash Table)

해시 테이블은 '해싱' 이라는 과정을 통해 특정 값을 도출하는 해시 함수를 토대로 만들어진 테이블을 사용해 상수 시간에 가까운 탐색 시간을 제공하는 자료구조이다.
프로그래밍 언어에 따라, '해시', '맵', '해시 맵', '딕셔너리' 등의 다양한 이름으로 부르곤 한다.

---

### 1. 해싱(hasing) 이란?

해싱은 임의의 길이의 데이터를 고정된 길이의 값으로 변환하는 과정을 의미한다. <br>
이때, 데이터를 특정 값으로 변환하는 주요 로직을 '해싱 함수' 라고 부른다.

이때 해시 함수는 동일한 문자열에 대해 반드시 같은 결과를 도출할 수 있어야 한다. <br>
만약 로직에 난수가 포함된 경우, 난수 값에 따라 결과가 달라질 수 있기 때문에 이는 해시 함수 라고 볼 수 없다.

---

### 2. 해시 함수를 활용한 자료구조 ?

그렇다면, 문자열을 숫자로 변환하는 해시 함수를 통해 어떻게 자료구조를 구현하고 우수한 탐색 효율을 보장할 수 있을까?

우리는 이를 이해하기 위해 간단한 예제의 해시 테이블과 배열을 비교해보겠다. <br>
먼저 배열은 연속된 메모리 구조에 데이터를 저장하는 특성을 활용해 '인덱스'라는 주소를 통해 저장되어 있는 값에 즉시 접근할 수 있다. <br>
하지만, 특정 값을 찾는 탐색 연산에서 값 -> 인덱스라는 역순의 방식으로는 즉시 접근할 수 없기 때문에 배열은 사용하는 메모리를 순회하게 된다.

해시 테이블은 해시 함수를 통해 변환된 숫자를 배열의 인덱스처럼 사용한다. <br>
hash['first'] = 'hello'; 라고 저장했을 때, 해시 테이블은 해시 함수를 통해 변환된 숫자를 인덱스로 사용하여 그 위치에 키-값 쌍을 저장한다.<br>
이후 탐색 과정에서 key를 알고 있다면 해시 테이블 룩업(해싱 함수를 통해 참조된 위치를 찾는 작업)을 통해 저장되어 있는 값에 즉시 접근할 수 있다. <br>
하지만, 해시 테이블의 경우에도 단방향 룩업을 지원하기 때문에 key를 모르는 경우 전체 메모리를 순회해야 한다.

그렇다면 해시 테이블은 어떤 부분에서 유리한 걸까? <br>
배열은 값을 참조하는 과정에서 '인덱스'를 사용하고 이는 메모리가 허용하는 양의 정수만 가능하다. <br>
하지만 해시 테이블은 key로 다양한 타입이 가능하기 때문에, key 자체에 의미를 부여하거나 유연한 데이터의 저장이 가능하게 한다.

또한, 해시 테이블은 탐색뿐만 아니라 삭제, 삽입에서도 높은 효율을 보여준다. <br>
이는 해시 테이블의 룩업을 통한 빠른 접근 + 해싱 값을 통한 내부 배열의 직접 접근 덕분이다. 

정리해보자면 다음과 같다.

- 빠른 연산을 제공한다 : 해시값을 통한 접근 + 내부는 배열로 이루어짐 = 접근, 삽입, 삭제가 O(1)에 가까움
- 중복 데이터의 제거 : 해시 테이블의 key는 중복이 불가능함 -> 특정 상황에서 활용 가능
- 키의 타입이 다양한(가변적) 경우 : 저장될 key-value 쌍의 key가 가변적인 경우에 유연하게 사용 가능

이처럼 해시 테이블은 자료구조를 구성하는 핵심 기술을 활용해 높은 효율과 유연성을 제공할 수 있다.

---

### 3. 해시 충돌에 대해서

위에서 우리는 해싱 과정이 가변적인 key를 고정된 길이의 값으로 변환하는 과정이라고 설명했다. <br>
이는 굉장히 다양한 크기의 key를 일정 범위 내의 값으로 변환한다는 의미이고, 이는 해싱 함수의 결과가 중복될 수 있음을 의미한다. <br>
이런 상황을 해시 충돌이라고 부른다.

또한 해시 테이블은 일반적으로 내부에 배열을 통해 데이터를 저장하는데 배열은 요소 내에 복수 개의 데이터를 담을 수는 없다. <br>
이에 해시 테이블은 다음과 같은 두 가지 방법을 사용해서 해시 충돌(hash collision)을 해결한다.

- 체이닝(chaining):<br>
  해시 충돌 발생 시, 해당 해시 값이 가리키는 셀에 연결 리스트를 참조하고 해당 리스트의 노드에 값을 저장한다. <br>
  하지만 이는 해시 충돌을 해결 하기 최악의 경우 탐색 과정이 O(N)까지 커질 수 있음을 의미한다.

- 개방 주소법(Open Addressing):<br>
  해시 충돌 발생 시, 해시 테이블의 비어 있는 공간을 찾아 데이터를 저장한다. <br>
  이는 선형탐사, 이차 탐사, 이중 해싱 등의 특정 규칙을 통해 비어있는 공간을 탐색한다.

---

